# 建立初始项目
按照“创建工程步骤1.png”和“创建工程步骤2.png”建立工程。
在gitee、GitHub和公司Git服务器上同时维护。

# 设置gradle-wrapper
修改gradle-wrapper.properties，gradle-6.8-bin.zip改为gradle-6.8-all.zip

# 添加Shadow插件
在build.gradle.kts的plugins中添加：
id("com.github.johnrengelman.shadow") version ("4.0.4")
注意：这个id不知道是怎么定的，在Maven仓库中，如果要添加gradle依赖是：
implementation("com.github.jengelman.gradle.plugins:shadow:2.0.3")
名字不一样。

# 添加依赖关系
顺便添加阿里的Maven仓库。

# 重点：设置Shadow插件的属性
由于使用kts，强类型的，我自己试出来的可行的语法如下：
<code>
tasks.getByName("shadowJar") {
	println("============================")
	println("$this")
	println("${this.javaClass}")
	this as com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar
	manifest {
		attributes("Main-Class" to "cn.jeff.prj04.AppMain")
	}
	println("============================")
}
</code>

参考：
https://blog.csdn.net/qq_35754073/article/details/100986446

后来找到个更好的文档：
https://docs.gradle.org/current/userguide/kotlin_dsl.html
页面上搜索“shadow”可找到不少有用的东西。

先是找到个较好的写法：
```kotlin
import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar
// ......
tasks.named<ShadowJar>("shadowJar") {
	manifest {
		// ......
	}
}
```

然后发现可以直接用：
```kotlin
tasks.shadowJar {
	manifest {
		attributes["Main-Class"] = "cn.jeff.prj04.AppMain"
	}
}
```
